- type: entity
  name: 钢笔
  parent: BaseItem
  id: Pen
  description: 一支深色墨水笔。
  components:
  - type: Sprite
    sprite: Objects/Misc/pens.rsi
    state: pen
  - type: Item
    sprite: Objects/Misc/pens.rsi
    heldPrefix: pen
    size: Tiny
  - type: Tag
    tags:
    - Write
    - Pen
  - type: PhysicalComposition
    materialComposition:
      Steel: 25
  - type: EmitSoundOnUse
    sound:
      path: /Audio/Items/pen_click.ogg
      params:
        volume: -4
        maxDistance: 2
  - type: UseDelay
    delay: 1.5
  - type: EmbeddableProjectile
    offset: 0.3,0.0
    removalTime: 0.0
  - type: ThrowingAngle
    angle: 315
  - type: LandAtCursor
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 1
  - type: Fixtures
    fixtures:
      fix1:
        shape: !type:PolygonShape
          vertices:
          - -0.3,0.1
          - -0.1,0.3
          - 0.3,-0.1
          - 0.1,-0.3
        density: 20 # derived from base_item
        mask:
        - ItemMask
        restitution: 0.3
        friction: 0.2

- type: entity
  parent: Pen
  id: BasePenFancy
  abstract: true
  components:
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 3 #nothing shows luxury like inflicting injury

#TODO: I want the luxury pen to write a cool font like Merriweather in the future.

- type: entity
  name: 豪华钢笔
  parent: BasePenFancy
  id: LuxuryPen
  description: 一支精致昂贵的钢笔，唯有能胜任海量文书工作之人，方配拥有。
  components:
  - type: Sprite
    state: luxury_pen
  - type: Item
    heldPrefix: luxury_pen

- type: entity
  id: BaseAdvancedPen
  parent: BasePenFancy
  abstract: true
  components:
  - type: Tag
    tags:
    - Write
    - WriteIgnoreStamps
    - Pickaxe
    - Pen
  - type: MeleeWeapon
    wideAnimationRotation: -45
    damage:
      types:
        Piercing: 15
    soundHit:
      path: /Audio/Weapons/bladeslice.ogg
  - type: Tool
    qualities:
    - Screwing
    useSound:
      collection: Screwdriver

- type: entity
  name: 赛博阳光笔
  parent: [BaseAdvancedPen, BaseSyndicateContraband]
  id: CyberPen
  description: 一支来自赛博阳光法律部的高科技笔，能通过其钻石笔尖以不可思议的角度折射硬光进行书写。功能强大到甚至能在必要时改写已加盖官方印章的文件。
  components:
  - type: Sprite
    state: overpriced_pen
  - type: Item
    heldPrefix: overpriced_pen
  - type: StaticPrice
    price: 500

- type: entity
  name: 中央司令部笔
  parent: [BaseAdvancedPen, BaseCentcommContraband]
  id: PenCentcom
  description: 为了与网络太阳的官僚体系“权力”保持同步，神经科技公司以自身企业风格仿制了网络钢笔的复刻版。
  components:
  - type: Sprite
    state: pen_centcom
  - type: Item
    heldPrefix: pen_centcom

- type: entity
  name: 船长的钢笔
  parent: BasePenFancy
  id: PenCap
  description: 站长专用的奢华钢笔。
  components:
  - type: Sprite
    state: pen_cap

- type: entity
  name: 霍普的钢笔
  parent: BasePenFancy
  id: PenHop
  description: 一支专为车站爱好者打造的奢华钢笔。
  components:
  - type: Sprite
    state: pen_hop

- type: entity
  name: 巫师的魔法笔
  parent: [ BasePenFancy, BaseMagicalContraband ]
  id: PenWiz
  description: 一支豪华的钢笔。似乎配有一块神奇的晶体橡皮擦。
  components:
  - type: Sprite
    state: pen_wizard
  - type: Tag
    tags:
    - WriteIgnoreStamps
    - Write
    - Pen
