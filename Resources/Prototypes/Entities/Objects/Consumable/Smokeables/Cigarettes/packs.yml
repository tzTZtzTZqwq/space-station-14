- type: entity
  id: CigPackBase
  parent: [ BaseStorageItem, BaseBagOpenClose ]
  name: 香烟盒
  abstract: true
  components:
  - type: Sprite
    layers:
    - state: closed
      map: ["closeLayer"]
    - state: open
      map: ["openLayer"]
      visible: false
    - state: cig1
      map: ["cig1"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig2
      map: ["cig2"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig3
      map: ["cig3"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig4
      map: ["cig4"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig5
      map: ["cig5"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig6
      map: ["cig6"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
  - type: Tag
    tags:
    - CigPack
    - Trash
  - type: PhysicalComposition
    materialComposition:
      Steel: 50
  - type: SpaceGarbage
  - type: Item
    size: Tiny
    shape: # Yes, this is cursed, but it breaks otherwise, dont question it.
    - 0,0,0,1
  - type: Storage
    grid:
    - 0,0,4,1
  - type: StorageFill
    contents:
    - id: Cigarette
      amount: 10
  - type: ItemCounter
    count:
      tags: [Cigarette]
    composite: true
    layerStates:
    - cig1
    - cig2
    - cig3
    - cig4
    - cig5
    - cig6
  - type: Appearance

- type: entity
  id: CigPackMixedBase
  parent: [ BaseStorageItem, BaseBagOpenClose ]
  name: 湿透的烟盒
  abstract: true
  components:
  - type: Sprite
    layers:
    - state: closed
      map: ["closeLayer"]
    - state: open
      map: ["openLayer"]
      visible: false
    - state: cig1
      map: ["cig1"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig2
      map: ["cig2"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig3
      map: ["cig3"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig4
      map: ["cig4"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig5
      map: ["cig5"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
    - state: cig6
      map: ["cig6"]
      sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/visualizer.rsi
      visible: false
  - type: Tag
    tags:
    - CigPack
    - Trash
  - type: PhysicalComposition
    materialComposition:
      Steel: 50
  - type: SpaceGarbage
  - type: Item
    size: Tiny
    shape: # Yes, this is cursed, but it breaks otherwise, dont question it.
    - 0,0,0,1
  - type: Storage
    grid:
    - 0,0,4,1
  - type: ItemCounter
    count:
      tags: [Cigarette]
    composite: true
    layerStates:
    - cig1
    - cig2
    - cig3
    - cig4
    - cig5
    - cig6
  - type: Appearance

- type: entity
  id: CigPackGreen
  parent: CigPackBase
  name: 斯佩斯曼烟盒
  description: 包装上的标签写道："缓慢的死亡难道不会带来改变吗？"
  components:
  - type: Sprite
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/green.rsi
  - type: Item
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/green.rsi

- type: entity
  id: CigPackRed
  parent: CigPackBase
  name: 单峰骆驼公司数据包
  description: 太空奥运会赞助商，太空香烟中最受欢迎的品牌。
  components:
  - type: Sprite
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/red.rsi
  - type: Item
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/red.rsi

- type: entity
  id: CigPackBlue
  parent: CigPackBase
  name: AcmeCo 数据包
  description: 对于那些想要以某种方式获得最多恶性肿瘤记录的人。
  components:
  - type: Sprite
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/blue.rsi
  - type: Item
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/blue.rsi

- type: entity
  id: CigPackBlack
  parent: CigPackBase
  name: 游牧者数据包
  description: 游牧者特强咖啡，专为倍加艰难的人生时刻。
  components:
  - type: Sprite
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/black.rsi
  - type: Item
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/black.rsi

- type: entity
  id: CigPackSyndicate
  parent: [CigPackBase, BaseSyndicateContraband]
  name: 英特戴恩草药包
  description: 精英财团特工专属香烟。注入药物，助您超越镇静，使命必达。
  components:
  - type: Sprite
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/syndicate.rsi
  - type: Item
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/syndicate.rsi
  - type: StorageFill
    contents:
    - id: CigaretteSyndicate
      amount: 10

- type: entity
  id: CigPackMixed
  parent: CigPackMixedBase
  name: 丹的湿烟
  suffix: Mixed
  description: 丹与NT化学部门合作处理了多余的化学品，乐在其中。
  components:
  - type: Sprite
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/mixed.rsi
  - type: Item
    sprite: Objects/Consumable/Smokeables/Cigarettes/Packs/mixed.rsi
  - type: EntityTableContainerFill
    containers:
      storagebase: !type:NestedSelector
        rolls: !type:RangeNumberSelector
          range: 2, 9
        tableId: RandomSoakedSmokeTable

# Entity tables

- type: entityTable
  id: RandomSoakedSmokeTable
  table: !type:GroupSelector
    children:
    - id: CigaretteLicoxide
      weight: 1
    - id: CigaretteFrezon
      weight: 1
    - id: CigarettePhlogiston
      weight: 1
    - id: CigaretteWeldingFuel
      weight: 3
    - id: CigaretteMold
      weight: 3
    - id: CigaretteRadium
      weight: 3
    - id: CigaretteOmnizine
      weight: 4
    - id: CigaretteTricordrazine
      weight: 4
    - id: CigaretteIron
      weight: 4
    - id: CigaretteDylovene
      weight: 4
    - id: CigaretteDermaline
      weight: 4
    - id: CigaretteArithrazine
      weight: 4
    - id: CigaretteBicaridine
      weight: 4
    - id: CigaretteDexalin
      weight: 4
    - id: CigaretteHaloperidol
      weight: 6
    - id: CigaretteLaughter
      weight: 6
    - id: CigaretteLipolicide
      weight: 6
    - id: CigaretteSodiumPolyacrylate
      weight: 6
    - id: CigaretteRobustHarvest
      weight: 6
    - id: CigaretteBanana
      weight: 7
    - id: CigaretteBlackPepper
      weight: 7
    - id: CigaretteCapsaicinOil
      weight: 7
    - id: CigaretteBbqSauce
      weight: 7
    - id: CigaretteNutriment
      weight: 7
    - id: CigaretteSaline
      weight: 7

